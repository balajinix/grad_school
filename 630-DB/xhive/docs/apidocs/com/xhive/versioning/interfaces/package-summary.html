<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_02) on Tue Oct 04 14:54:28 CEST 2005 -->
<TITLE>
com.xhive.versioning.interfaces (Xhive API)
</TITLE>

<META NAME="keywords" CONTENT="com.xhive.versioning.interfaces package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="com.xhive.versioning.interfaces (Xhive API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
X-Hive/DB 7.0.0</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/xhive/util/interfaces/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/xhive/xpath/interfaces/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/xhive/versioning/interfaces/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package com.xhive.versioning.interfaces
</H2>

    This package contains the X-Hive versioning interfaces.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/xhive/versioning/interfaces/XhiveBranchIf.html" title="interface in com.xhive.versioning.interfaces">XhiveBranchIf</A></B></TD>
<TD>
 Represents a branch in the VersionSpace.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/xhive/versioning/interfaces/XhiveVersionIf.html" title="interface in com.xhive.versioning.interfaces">XhiveVersionIf</A></B></TD>
<TD>
 Represents a version of a versionable object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/xhive/versioning/interfaces/XhiveVersionSpaceIf.html" title="interface in com.xhive.versioning.interfaces">XhiveVersionSpaceIf</A></B></TD>
<TD>
 Represents the context of the document where Versions of the document are stored.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package com.xhive.versioning.interfaces Description
</H2>

<P>
<p>
    This package contains the X-Hive versioning interfaces.
  </p>
  <p>
    Versioning allows the creation of versions of XML documents that are stored in <a href="http://www.x-hive.com" target="_parent">X-Hive/DB</a> and the storage of those versions in the context of that document. To work with versions of documents the methods from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface have to be used. To access the versions stored in the context of the document the interfaces <a href="XhiveVersionSpaceIf.html"><code>XhiveVersionSpaceIf</code></a> and <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> are used.
  </p>
  <p>
    The interface <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> gives information about the version and allows the creation of new versions based on that version.
  </p>
  <p>
    The interface <a href="XhiveVersionSpaceIf.html"><code>XhiveVersionSpaceIf</code></a> allows the retrieval of versions stored in the context of the document which is called the <em>versionspace</em>.
  </p>
  <p>
    The interface <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> also gives access to the versions stored in the versionspace but only at another level.
  </p>
  <h3>Versioning in X-Hive/DB</h3>
  <h4>Making documents versionable</h4>
  <p>
    To create a version of a document it has to be made <em>versionable</em> to allow versions of that document to be stored in its context. Making a document versionable is done by calling the <a href= "../../dom/interfaces/XhiveDocumentIf.html#makeVersionable()"><code>makeVersionable()</code></a> method from the <a href="../../dom/interfaces/XhiveDocumentIf.html"><code>XhiveDocumentIf</code></a> interface.<br>
    Making a document versionable creates a <em>version object</em> for the first version of the document (the document itself). In this tutorial versions are the evolving XML documents and the version objects are the management objects that hold information about the versions such as its Id or Label. Every version object is related to one version and vice versa. To work with the version objects the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface has to be used.<br>
    Making a document versionable also creates the context where the version objects are stored. This context is called the <em>versionspace</em> and it's accessible through the <a href="XhiveVersionSpaceIf.html"><code>XhiveVersionSpaceIf</code></a> interface. A reference to the versionspace of a version can be obtained by calling the <a href="XhiveVersionIf.html#getVersionSpace()"><code>getVersionSpace()</code></a> method from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface. All the version objects (and thus versions) are related to only one versionspace.
  </p>
  <p>
    The methods from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface give information about the version such as its Id through the <a href="XhiveVersionIf.html#getId()"><code>getId()</code></a> method, its Label through the <a href="XhiveVersionIf.html#getLabel()"><code>getLabel()</code></a> method, its creator through the <a href="XhiveVersionIf.html#getCreator()"><code>getCreator()</code></a> method and its date of storage through the <a href="XhiveVersionIf.html#getDate()"><code>getDate()</code></a> method. Also is it possible to change the label through which the version can be identified through the setLabel method.
  </p>
  <p>
    The methods from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface also give access to the document that are the actual version of the document. To get a copy of the document of the version the <a href="XhiveVersionIf.html#getAsDocument()"><code>getAsDocument()</code></a> from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface has to be called. The document that is returned is a copy of the original document so changing the content will not affect the original version of the document in any way.
  </p>
  <h4>Creating new versions</h4>
  <p>
    After a document has been made versionable only one version object exists. To add more versions to the versionspace of the document a new version has to be added to the versionspace using a <em>versiontransaction</em>. To start a versiontransaction a call has to be made to the <a href="XhiveVersionIf.html#checkOut()"><code>checkOut()</code></a> method from the <a href="XhiveVersionIf.html">XhiveVersionIf</a> interface. This method returns a document that represents the exact state of the document of the version and can be used to create the new version. To store the changed document as new version a call to the <a href="XhiveVersionIf.html#checkIn(org.w3c.dom.Document)">checkIn()</a> method, with the changed document as a parameter, on the version object has to be made. This ends the versiontransaction and stores the changed document as a new version. The <a href="XhiveVersionIf.html#checkIn(org.w3c.dom.Document)">checkIn()</a> method returns a reference to the new version object that has been created in the versionspace.
  </p>
  <p>
    During a versiontransaction other users are not allowed to check out the same version of the document. The versiontransaction ends when a call to the <a href="XhiveVersionIf.html#checkIn(org.w3c.dom.Document)">checkIn()</a> method is made or if a user does not want to store a new version a call to the <a href="XhiveVersionIf.html#abort()"><code>abort()</code></a> method from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface can be made. This will abort the versiontransaction without storing a new version and will allow other user to check out the version object. A versiontransaction can only be aborted by the users that started the versiontransaction or by the database administrator.<br>
    Versiontransactions do not end when a session from <a href="http://www.x-hive.com" target="_parent">X-Hive/DB</a> ends. This means that versions transaction can go over multiple sessions of <a href="http://www.x-hive.com" target="_parent">X-Hive/DB</a>.
  </p>
  <h4>Accessing versions</h4>
  <p>
    When a new version is created it takes the place in the library of the document where the new version was checked in on. This means that from a non-versioning client point of view the last stored version can always be accessed in the library using the same methods used to access documents that are not versionable. However, because the documents in the library are versions they cannot be edited because they are immutable by definition. If changes have to be made to a version a new version has to be created based on that version. Attempts to make changes to an existing version will result in a <a href="../../error/XhiveException.html#VERSION_ACCESS_DENIED"><code>XhiveException.VERSION_ACCESS_DENIED</code></a> exception.
  </p>
  <p>
    Access to other (older) versions than the last stored is possible by using a version object to navigate to the desired version object and its associated version. To get the version object of a document in the library use the <a href= "../../dom/interfaces/XhiveDocumentIf.html#getXhiveVersion()"><code>getXhiveVersion()</code></a> method from the <a href= "../../dom/interfaces/XhiveDocumentIf.html"><code>XhiveDocumentIf</code></a> interface. There are two ways the get from a version object to another version object:
  <ul>
    <li>using the methods <a href="XhiveVersionIf.html#getNextVersions()"><code>getNextVersions()</code></a> and <a href="XhiveVersionIf.html#getPreviousVersion()"><code>getPreviousVersion()</code></a> from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface</il>
    <li>using the methods from the <a href="XhiveVersionSpaceIf.html"><code>XhiveVersionSpaceIf</code></a> interface such as <a href="XhiveVersionSpaceIf.html#getVersionById(java.lang.String)"><code>getVersionById()</code></a> or <a href="XhiveVersionSpaceIf.html#getVersionByLabel(java.lang.String)"><code>getVersionByLabel()</code></a></il>
  </ul>
    The versionspace object of a versionable document can be accessed by calling <a href="XhiveVersionIf.html#getVersionSpace()"><code>getVersionSpace()</code></a> from the <a href="XhiveVersionIf.html"><code>XhiveVersionIf</code></a> interface on one of its version objects.
  </p>
  <h4>Working with branches</h4>
  <p>
    By default every versionspace contains only one branch, the <em>default branch</em>. Other branches are created when a version is checked in on a version that already has a successor. Versioning in <a href="http://www.x-hive.com" target="_parent">X-Hive/DB</a> supports branching. A branch is a line of succeeding versions. When you work with versioning in <a href="http://www.x-hive.com" target="_parent">X-Hive/DB</a> there always at least one branch namely the one beginning with the first version ever created and ending with the last stored version of which the document is visible in the library. The <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> interface can be used for this level of access to the versions stored in the versionspace. The <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> interface allows users to iterate over versions with <a href="XhiveBranchIf.html#getVersions()"><code>getVersions()</code></a> or retrieve version by date with the method <a href="XhiveBranchIf.html#getVersionByDate(java.util.Date)"><code>getVersionByDate()</code></a>. The <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> interface also gives direct access to document of the last stored version with <a href="XhiveBranchIf.html#getHeadDocument()"><code>getHeadDocument()</code></a>.<br>
    New branches are created when you checkin a new document on a version that already has a successor. If the document used to create this new version was appended to the library of the versioned document is remains visible in the library, thus two version of the same versioned document are visbible in the library. If the document was not yet appended to a library the document is only accessible through the <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> interface.
  </p>
  <p>
    It is possible to delete a branch of versions by calling the <a href="XhiveBranchIf.html#delete()"><code>delete()</code></a> method from the <a href="XhiveBranchIf.html"><code>XhiveBranchIf</code></a> interface. Deleting a branch deletes the versions starting from the top of the branch in the library (<a href="XhiveBranchIf.html#getHeadDocument()"><code>getHeadDocument()</code></a>) to the first version that has another successor and thus belongs to another branch. The head of the branch remains in the library but is no longer versionable (<a href= "../../dom/interfaces/XhiveDocumentIf.html#getXhiveVersion()"><code>getXhiveVersion()</code></a> == null). If only one branch exists in the versionspace deleting that branch removes all the versions in the versionspace.
  </p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
X-Hive/DB 7.0.0</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/xhive/util/interfaces/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/xhive/xpath/interfaces/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/xhive/versioning/interfaces/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
